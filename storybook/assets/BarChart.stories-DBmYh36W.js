import{p as q,d as D,H as E,I as V,q as O,i as $,h as w,j as G,m as u,J as b,E as H,k as J,K as _,o as K,G as k,s as P,D as M}from"./iframe-B3TcvJsq.js";import"./legacy-BnfyogKm.js";import{s as x}from"./attributes-CkHowp77.js";import{b as T}from"./this-CG9Jdc1Q.js";import{i as z}from"./lifecycle-NITQEYl6.js";import"./transform-CkDY30gP.js";import{i as j,l as F,s as A}from"./linear-DHF-0dK3.js";import{X as L,Y as N}from"./YAxis-C-stv-tt.js";import"./preload-helper-Ct5FWWRu.js";import"./style-B3ufI60B.js";class B extends Map{constructor(n,a=W){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),n!=null)for(const[t,r]of n)this.set(t,r)}get(n){return super.get(C(this,n))}has(n){return super.has(C(this,n))}set(n,a){return super.set(Q(this,n),a)}delete(n){return super.delete(U(this,n))}}function C({_intern:e,_key:n},a){const t=n(a);return e.has(t)?e.get(t):a}function Q({_intern:e,_key:n},a){const t=n(a);return e.has(t)?e.get(t):(e.set(t,a),a)}function U({_intern:e,_key:n},a){const t=n(a);return e.has(t)&&(a=e.get(t),e.delete(t)),a}function W(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Z(e,n,a){e=+e,n=+n,a=(r=arguments.length)<2?(n=e,e=0,1):r<3?1:+a;for(var t=-1,r=Math.max(0,Math.ceil((n-e)/a))|0,s=new Array(r);++t<r;)s[t]=e+t*a;return s}const S=Symbol("implicit");function I(){var e=new B,n=[],a=[],t=S;function r(s){let o=e.get(s);if(o===void 0){if(t!==S)return t;e.set(s,o=n.push(s)-1)}return a[o%a.length]}return r.domain=function(s){if(!arguments.length)return n.slice();n=[],e=new B;for(const o of s)e.has(o)||e.set(o,n.push(o)-1);return r},r.range=function(s){return arguments.length?(a=Array.from(s),r):a.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return I(n,a).unknown(t)},j.apply(r,arguments),r}function R(){var e=I().unknown(void 0),n=e.domain,a=e.range,t=0,r=1,s,o,c=!1,l=0,g=0,p=.5;delete e.unknown;function m(){var i=n().length,d=r<t,f=d?r:t,v=d?t:r;s=(v-f)/Math.max(1,i-l+g*2),c&&(s=Math.floor(s)),f+=(v-f-s*(i-l))*p,o=s*(1-l),c&&(f=Math.round(f),o=Math.round(o));var h=Z(i).map(function(Y){return f+s*Y});return a(d?h.reverse():h)}return e.domain=function(i){return arguments.length?(n(i),m()):n()},e.range=function(i){return arguments.length?([t,r]=i,t=+t,r=+r,m()):[t,r]},e.rangeRound=function(i){return[t,r]=i,t=+t,r=+r,c=!0,m()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(i){return arguments.length?(c=!!i,m()):c},e.padding=function(i){return arguments.length?(l=Math.min(1,g=+i),m()):l},e.paddingInner=function(i){return arguments.length?(l=Math.min(1,i),m()):l},e.paddingOuter=function(i){return arguments.length?(g=+i,m()):g},e.align=function(i){return arguments.length?(p=Math.max(0,Math.min(1,i)),m()):p},e.copy=function(){return R(n(),[t,r]).round(c).paddingInner(l).paddingOuter(g).align(p)},j.apply(m(),arguments)}function ee(e,n,a){return R().domain(e.map(t=>t.name)).range([a.left,n-a.right]).padding(.1)}function te(e,n,a){return F().domain([0,Math.max(...e.map(t=>t.value))]).nice().range([n-a.bottom,a.top])}var ne=O("<!><!>",1),ae=O("<svg><!></svg>");function X(e,n){q(n,!1);let a=D(n,"data",24,()=>[]);const t=600,r=400,s={top:20,right:30,bottom:40,left:40};let o=b(),c=b(),l=b();E(()=>(u(o),H(a()),u(c),u(l),A),()=>{if(u(o)&&a().length>0){_(c,ee(a(),t,s)),_(l,te(a(),r,s));const i=A(u(o));i.selectAll("g.bars").remove(),i.append("g").attr("class","bars").attr("fill","steelblue").selectAll("rect").data(a()).join("rect").attr("x",d=>u(c)(d.name)).attr("y",d=>u(l)(d.value)).attr("height",d=>u(l)(0)-u(l)(d.value)).attr("width",u(c).bandwidth())}}),V(),z();var g=ae();x(g,"width",t),x(g,"height",r);var p=J(g);{var m=i=>{var d=ne(),f=K(d);{let h=k(()=>M(()=>`translate(0,${r-s.bottom})`));L(f,{get scale(){return u(c)},get transform(){return u(h)}})}var v=P(f);{let h=k(()=>M(()=>`translate(${s.left},0)`));N(v,{get scale(){return u(l)},get transform(){return u(h)}})}w(i,d)};$(p,i=>{u(c)&&u(l)&&i(m)})}T(g,i=>_(o,i),()=>u(o)),w(e,g),G()}X.__docgen={data:[{name:"data",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"{ name: string; value: number; }[]"},static:!1,readonly:!1,defaultValue:"[]"}],name:"BarChart.svelte"};const fe={title:"Charts/BarChart",component:X,tags:["autodocs"],parameters:{docs:{description:{component:"A responsive bar chart using D3 for rendering and Svelte for composition."}}},argTypes:{data:{control:"object",description:"Array of data points with `{ name, value }` structure",defaultValue:[{name:"A",value:40},{name:"B",value:60},{name:"C",value:30}]}}},y={args:{data:[{name:"A",value:40},{name:"B",value:60},{name:"C",value:30}]}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  args: {
    data: [{
      name: "A",
      value: 40
    }, {
      name: "B",
      value: 60
    }, {
      name: "C",
      value: 30
    }]
  }
}`,...y.parameters?.docs?.source}}};const pe=["Basic"];export{y as Basic,pe as __namedExportsOrder,fe as default};
