import{p as Z,d as H,H as J,I as K,q as I,i as O,h as S,j as Q,m as c,J as M,E as V,k as B,K as k,o as F,G as C,s as U,D as P}from"./iframe-B3TcvJsq.js";import"./legacy-BnfyogKm.js";import{s as q}from"./attributes-CkHowp77.js";import{b as W}from"./this-CG9Jdc1Q.js";import{i as tt}from"./lifecycle-NITQEYl6.js";import"./transform-CkDY30gP.js";import{X as it,Y as nt}from"./YAxis-C-stv-tt.js";import{s as X,l as j}from"./linear-DHF-0dK3.js";const T=Math.PI,E=2*T,$=1e-6,et=E-$;function R(i){this._+=i[0];for(let t=1,n=i.length;t<n;++t)this._+=arguments[t]+i[t]}function st(i){let t=Math.floor(i);if(!(t>=0))throw new Error(`invalid digits: ${i}`);if(t>15)return R;const n=10**t;return function(e){this._+=e[0];for(let o=1,s=e.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+e[o]}}class ot{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?R:st(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,o){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+o}`}bezierCurveTo(t,n,e,o,s,h){this._append`C${+t},${+n},${+e},${+o},${this._x1=+s},${this._y1=+h}`}arcTo(t,n,e,o,s){if(t=+t,n=+n,e=+e,o=+o,s=+s,s<0)throw new Error(`negative radius: ${s}`);let h=this._x1,r=this._y1,a=e-t,l=o-n,u=h-t,f=r-n,_=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(_>$)if(!(Math.abs(f*a-l*u)>$)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let p=e-h,m=o-r,x=a*a+l*l,g=p*p+m*m,d=Math.sqrt(x),L=Math.sqrt(_),A=s*Math.tan((T-Math.acos((x+_-g)/(2*d*L)))/2),b=A/L,N=A/d;Math.abs(b-1)>$&&this._append`L${t+b*u},${n+b*f}`,this._append`A${s},${s},0,0,${+(f*p>u*m)},${this._x1=t+N*a},${this._y1=n+N*l}`}}arc(t,n,e,o,s,h){if(t=+t,n=+n,e=+e,h=!!h,e<0)throw new Error(`negative radius: ${e}`);let r=e*Math.cos(o),a=e*Math.sin(o),l=t+r,u=n+a,f=1^h,_=h?o-s:s-o;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>$||Math.abs(this._y1-u)>$)&&this._append`L${l},${u}`,e&&(_<0&&(_=_%E+E),_>et?this._append`A${e},${e},0,1,${f},${t-r},${n-a}A${e},${e},0,1,${f},${this._x1=l},${this._y1=u}`:_>$&&this._append`A${e},${e},0,${+(_>=T)},${f},${this._x1=t+e*Math.cos(s)},${this._y1=n+e*Math.sin(s)}`)}rect(t,n,e,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+o}h${-e}Z`}toString(){return this._}}function v(i){return function(){return i}}function at(i){let t=3;return i.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return i},()=>new ot(t)}function rt(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Y(i){this._context=i}Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){switch(i=+i,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;default:this._context.lineTo(i,t);break}}};function ht(i){return new Y(i)}function lt(i){return i[0]}function _t(i){return i[1]}function ut(i,t){var n=v(!0),e=null,o=ht,s=null,h=at(r);i=typeof i=="function"?i:i===void 0?lt:v(i),t=typeof t=="function"?t:t===void 0?_t:v(t);function r(a){var l,u=(a=rt(a)).length,f,_=!1,p;for(e==null&&(s=o(p=h())),l=0;l<=u;++l)!(l<u&&n(f=a[l],l,a))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+i(f,l,a),+t(f,l,a));if(p)return s=null,p+""||null}return r.x=function(a){return arguments.length?(i=typeof a=="function"?a:v(+a),r):i},r.y=function(a){return arguments.length?(t=typeof a=="function"?a:v(+a),r):t},r.defined=function(a){return arguments.length?(n=typeof a=="function"?a:v(!!a),r):n},r.curve=function(a){return arguments.length?(o=a,e!=null&&(s=o(e)),r):o},r.context=function(a){return arguments.length?(a==null?e=s=null:s=o(e=a),r):e},r}function z(i){return i<0?-1:1}function D(i,t,n){var e=i._x1-i._x0,o=t-i._x1,s=(i._y1-i._y0)/(e||o<0&&-0),h=(n-i._y1)/(o||e<0&&-0),r=(s*o+h*e)/(e+o);return(z(s)+z(h))*Math.min(Math.abs(s),Math.abs(h),.5*Math.abs(r))||0}function G(i,t){var n=i._x1-i._x0;return n?(3*(i._y1-i._y0)/n-t)/2:t}function w(i,t,n){var e=i._x0,o=i._y0,s=i._x1,h=i._y1,r=(s-e)/3;i._context.bezierCurveTo(e+r,o+r*t,s-r,h-r*n,s,h)}function y(i){this._context=i}y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w(this,this._t0,G(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){var n=NaN;if(i=+i,t=+t,!(i===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;break;case 2:this._point=3,w(this,G(this,n=D(this,i,t)),n);break;default:w(this,this._t0,n=D(this,i,t));break}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=t,this._t0=n}}};Object.create(y.prototype).point=function(i,t){y.prototype.point.call(this,t,i)};function ft(i){return new y(i)}var ct=I("<!><!>",1),pt=I("<svg><!></svg>");function dt(i,t){Z(t,!1);let n=H(t,"data",24,()=>[]);const e=600,o=400,s={top:20,right:30,bottom:40,left:40};let h=M(),r=M(),a=M();J(()=>(c(h),V(n()),c(r),c(a),X),()=>{if(c(h)&&n().length>0){console.log("Data: ",n());const _=Math.min(...n().map(d=>d.x)),p=Math.max(...n().map(d=>d.x)),m=Math.max(...n().map(d=>d.y));k(r,j().domain([_,p]).range([s.left,e-s.right])),k(a,j().domain([0,m]).range([o-s.bottom,s.top]));const x=ut().x(d=>c(r)(d.x)).y(d=>c(a)(d.y)).curve(ft),g=X(c(h));g.selectAll("g.plot").remove(),g.append("g").attr("class","plot").append("path").datum(n()).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",x)}}),K(),tt();var l=pt();q(l,"width",e),q(l,"height",o);var u=B(l);{var f=_=>{var p=ct(),m=F(p);{let g=C(()=>P(()=>`translate(0,${o-s.bottom})`));it(m,{get scale(){return c(r)},get transform(){return c(g)}})}var x=U(m);{let g=C(()=>P(()=>`translate(${s.left},0)`));nt(x,{get scale(){return c(a)},get transform(){return c(g)}})}S(_,p)};O(u,_=>{c(r)&&c(a)&&_(f)})}W(l,_=>k(h,_),()=>c(h)),S(i,l),Q()}dt.__docgen={data:[{name:"data",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"array",text:"{ x: number; y: number; }[]"},static:!1,readonly:!1,defaultValue:"[]"}],name:"LineChart.svelte"};export{dt as L};
